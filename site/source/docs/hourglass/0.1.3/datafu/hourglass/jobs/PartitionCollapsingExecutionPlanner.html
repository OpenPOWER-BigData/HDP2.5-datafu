<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_27) on Thu Dec 12 19:12:09 PST 2013 -->
<TITLE>
PartitionCollapsingExecutionPlanner (DataFu Hourglass)
</TITLE>

<META NAME="date" CONTENT="2013-12-12">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PartitionCollapsingExecutionPlanner (DataFu Hourglass)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/PartitionCollapsingExecutionPlanner.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../datafu/hourglass/jobs/MaxInputDataExceededException.html" title="class in datafu.hourglass.jobs"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingIncrementalJob.html" title="class in datafu.hourglass.jobs"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PartitionCollapsingExecutionPlanner.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
datafu.hourglass.jobs</FONT>
<BR>
Class PartitionCollapsingExecutionPlanner</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html" title="class in datafu.hourglass.jobs">datafu.hourglass.jobs.ExecutionPlanner</A>
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>datafu.hourglass.jobs.PartitionCollapsingExecutionPlanner</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>PartitionCollapsingExecutionPlanner</B><DT>extends <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html" title="class in datafu.hourglass.jobs">ExecutionPlanner</A></DL>
</PRE>

<P>
Execution planner used by <A HREF="../../../datafu/hourglass/jobs/AbstractPartitionCollapsingIncrementalJob.html" title="class in datafu.hourglass.jobs"><CODE>AbstractPartitionCollapsingIncrementalJob</CODE></A> and its derived classes.
 This creates a plan to process partitioned input data and collapse the partitions into a single output.
 
 <p>
 To use this class, the input and output paths must be specified.  In addition the desired input date
 range can be specified through several methods.  Then <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#createPlan()"><CODE>createPlan()</CODE></A> can be called and the
 execution plan will be created.  The inputs to process will be available from <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#getInputsToProcess()"><CODE>getInputsToProcess()</CODE></A>,
 the number of reducers to use will be available from <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#getNumReducers()"><CODE>getNumReducers()</CODE></A>, and the input schemas
 will be available from <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#getInputSchemas()"><CODE>getInputSchemas()</CODE></A>.
 </p>
 
 <p>
 Previous output may be reused by using <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#setReusePreviousOutput(boolean)"><CODE>setReusePreviousOutput(boolean)</CODE></A>.  If previous output exists
 and it is to be reused then it will be available from <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#getPreviousOutputToProcess()"><CODE>getPreviousOutputToProcess()</CODE></A>.  New input data
 to process that is after the previous output time range is available from <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#getNewInputsToProcess()"><CODE>getNewInputsToProcess()</CODE></A>.
 Old input data to process that is before the previous output time range and should be subtracted from the
 previous output is available from <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#getOldInputsToProcess()"><CODE>getOldInputsToProcess()</CODE></A>.
 </p>
 
 <p>
 Configuration properties are used to configure a <A HREF="../../../datafu/hourglass/jobs/ReduceEstimator.html" title="class in datafu.hourglass.jobs"><CODE>ReduceEstimator</CODE></A> instance.  This is used to 
 calculate how many reducers should be used.  
 The number of reducers to use is based on the input data size and the 
 <em>num.reducers.bytes.per.reducer</em> property.  This setting can be controlled more granularly
 through <em>num.reducers.input.bytes.per.reducer</em> and <em>num.reducers.previous.bytes.per.reducer</em>.
 Check <A HREF="../../../datafu/hourglass/jobs/ReduceEstimator.html" title="class in datafu.hourglass.jobs"><CODE>ReduceEstimator</CODE></A> for more details on how the properties are used.
 </p>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>"Matthew Hayes"</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#PartitionCollapsingExecutionPlanner(org.apache.hadoop.fs.FileSystem, java.util.Properties)">PartitionCollapsingExecutionPlanner</A></B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                    java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initializes the execution planner.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#createPlan()">createPlan</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create the execution plan.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../datafu/hourglass/fs/DateRange.html" title="class in datafu.hourglass.fs">DateRange</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#getCurrentDateRange()">getCurrentDateRange</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;org.apache.avro.Schema&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#getInputSchemas()">getInputSchemas</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the input schemas.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.String,org.apache.avro.Schema&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#getInputSchemasByPath()">getInputSchemasByPath</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a map from input path to schema.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../datafu/hourglass/fs/DatePath.html" title="class in datafu.hourglass.fs">DatePath</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#getInputsToProcess()">getInputsToProcess</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets all inputs that will be processed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#getNeedsAnotherPass()">getNeedsAnotherPass</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets whether another pass will be required.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../datafu/hourglass/fs/DatePath.html" title="class in datafu.hourglass.fs">DatePath</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#getNewInputsToProcess()">getNewInputsToProcess</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets only the new data that will be processed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#getNumReducers()">getNumReducers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the number of reducers to use based on the input and previous output data size.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../datafu/hourglass/fs/DatePath.html" title="class in datafu.hourglass.fs">DatePath</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#getOldInputsToProcess()">getOldInputsToProcess</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets only the old data that will be processed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../datafu/hourglass/fs/DatePath.html" title="class in datafu.hourglass.fs">DatePath</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#getPreviousOutputToProcess()">getPreviousOutputToProcess</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the previous output to reuse, or null if no output is being reused.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#getReusePreviousOutput()">getReusePreviousOutput</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets whether previous output should be reused, if it exists.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#setReusePreviousOutput(boolean)">setReusePreviousOutput</A></B>(boolean&nbsp;reuse)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets whether previous output should be reused, if it exists.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_datafu.hourglass.jobs.ExecutionPlanner"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class datafu.hourglass.jobs.<A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html" title="class in datafu.hourglass.jobs">ExecutionPlanner</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#determineAvailableInputDates()">determineAvailableInputDates</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#determineDateRange()">determineDateRange</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#getAvailableInputsByDate()">getAvailableInputsByDate</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#getDailyData(org.apache.hadoop.fs.Path)">getDailyData</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#getDatedData(org.apache.hadoop.fs.Path)">getDatedData</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#getDateRange()">getDateRange</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#getDaysAgo()">getDaysAgo</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#getEndDate()">getEndDate</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#getFileSystem()">getFileSystem</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#getInputPaths()">getInputPaths</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#getMaxToProcess()">getMaxToProcess</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#getNumDays()">getNumDays</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#getOutputPath()">getOutputPath</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#getProps()">getProps</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#getStartDate()">getStartDate</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#isFailOnMissing()">isFailOnMissing</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#loadInputData()">loadInputData</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#setDaysAgo(java.lang.Integer)">setDaysAgo</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#setEndDate(java.util.Date)">setEndDate</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#setFailOnMissing(boolean)">setFailOnMissing</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#setInputPaths(java.util.List)">setInputPaths</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#setMaxToProcess(java.lang.Integer)">setMaxToProcess</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#setNumDays(java.lang.Integer)">setNumDays</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#setOutputPath(org.apache.hadoop.fs.Path)">setOutputPath</A>, <A HREF="../../../datafu/hourglass/jobs/ExecutionPlanner.html#setStartDate(java.util.Date)">setStartDate</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="PartitionCollapsingExecutionPlanner(org.apache.hadoop.fs.FileSystem, java.util.Properties)"><!-- --></A><H3>
PartitionCollapsingExecutionPlanner</H3>
<PRE>
public <B>PartitionCollapsingExecutionPlanner</B>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                           java.util.Properties&nbsp;props)</PRE>
<DL>
<DD>Initializes the execution planner.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>fs</CODE> - file system<DD><CODE>props</CODE> - configuration properties</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="createPlan()"><!-- --></A><H3>
createPlan</H3>
<PRE>
public void <B>createPlan</B>()
                throws java.io.IOException</PRE>
<DL>
<DD>Create the execution plan.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getReusePreviousOutput()"><!-- --></A><H3>
getReusePreviousOutput</H3>
<PRE>
public boolean <B>getReusePreviousOutput</B>()</PRE>
<DL>
<DD>Gets whether previous output should be reused, if it exists.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if previous output should be reused</DL>
</DD>
</DL>
<HR>

<A NAME="setReusePreviousOutput(boolean)"><!-- --></A><H3>
setReusePreviousOutput</H3>
<PRE>
public void <B>setReusePreviousOutput</B>(boolean&nbsp;reuse)</PRE>
<DL>
<DD>Sets whether previous output should be reused, if it exists.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>reuse</CODE> - true if previous output should be reused</DL>
</DD>
</DL>
<HR>

<A NAME="getNumReducers()"><!-- --></A><H3>
getNumReducers</H3>
<PRE>
public int <B>getNumReducers</B>()</PRE>
<DL>
<DD>Get the number of reducers to use based on the input and previous output data size.
 Must call <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#createPlan()"><CODE>createPlan()</CODE></A> first.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>number of reducers to use</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentDateRange()"><!-- --></A><H3>
getCurrentDateRange</H3>
<PRE>
public <A HREF="../../../datafu/hourglass/fs/DateRange.html" title="class in datafu.hourglass.fs">DateRange</A> <B>getCurrentDateRange</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPreviousOutputToProcess()"><!-- --></A><H3>
getPreviousOutputToProcess</H3>
<PRE>
public <A HREF="../../../datafu/hourglass/fs/DatePath.html" title="class in datafu.hourglass.fs">DatePath</A> <B>getPreviousOutputToProcess</B>()</PRE>
<DL>
<DD>Gets the previous output to reuse, or null if no output is being reused.
 Must call <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#createPlan()"><CODE>createPlan()</CODE></A> first.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>previous output to reuse, or null</DL>
</DD>
</DL>
<HR>

<A NAME="getInputsToProcess()"><!-- --></A><H3>
getInputsToProcess</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../datafu/hourglass/fs/DatePath.html" title="class in datafu.hourglass.fs">DatePath</A>&gt; <B>getInputsToProcess</B>()</PRE>
<DL>
<DD>Gets all inputs that will be processed.  This includes both old and new data.
 Must call <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#createPlan()"><CODE>createPlan()</CODE></A> first.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>inputs to process</DL>
</DD>
</DL>
<HR>

<A NAME="getNewInputsToProcess()"><!-- --></A><H3>
getNewInputsToProcess</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../datafu/hourglass/fs/DatePath.html" title="class in datafu.hourglass.fs">DatePath</A>&gt; <B>getNewInputsToProcess</B>()</PRE>
<DL>
<DD>Gets only the new data that will be processed.  New data is data that falls within the 
 desired date range.
 Must call <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#createPlan()"><CODE>createPlan()</CODE></A> first.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>new inputs to process</DL>
</DD>
</DL>
<HR>

<A NAME="getOldInputsToProcess()"><!-- --></A><H3>
getOldInputsToProcess</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../datafu/hourglass/fs/DatePath.html" title="class in datafu.hourglass.fs">DatePath</A>&gt; <B>getOldInputsToProcess</B>()</PRE>
<DL>
<DD>Gets only the old data that will be processed.  Old data is data that falls before the
 desired date range.  It will be subtracted out from the previous output.
 Must call <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#createPlan()"><CODE>createPlan()</CODE></A> first.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>old inputs to process</DL>
</DD>
</DL>
<HR>

<A NAME="getNeedsAnotherPass()"><!-- --></A><H3>
getNeedsAnotherPass</H3>
<PRE>
public boolean <B>getNeedsAnotherPass</B>()</PRE>
<DL>
<DD>Gets whether another pass will be required.  Because there may be a limit on the number of inputs processed 
 in a single run, multiple runs may be required to process all data in the desired date range.  
 Must call <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#createPlan()"><CODE>createPlan()</CODE></A> first.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if another pass is required</DL>
</DD>
</DL>
<HR>

<A NAME="getInputSchemas()"><!-- --></A><H3>
getInputSchemas</H3>
<PRE>
public java.util.List&lt;org.apache.avro.Schema&gt; <B>getInputSchemas</B>()</PRE>
<DL>
<DD>Gets the input schemas.  Because multiple inputs are allowed, there may be multiple schemas.
 Must call <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#createPlan()"><CODE>createPlan()</CODE></A> first.
 
 <p>
 This does not include the output schema, even though previous output may be fed back as input.
 The reason is that the ouput schema it determined based on the input schema.
 </p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>input schemas</DL>
</DD>
</DL>
<HR>

<A NAME="getInputSchemasByPath()"><!-- --></A><H3>
getInputSchemasByPath</H3>
<PRE>
public java.util.Map&lt;java.lang.String,org.apache.avro.Schema&gt; <B>getInputSchemasByPath</B>()</PRE>
<DL>
<DD>Gets a map from input path to schema.  Because multiple inputs are allowed, there may be multiple schemas.
 Must call <A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html#createPlan()"><CODE>createPlan()</CODE></A> first.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>map from path to input schema</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/PartitionCollapsingExecutionPlanner.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../datafu/hourglass/jobs/MaxInputDataExceededException.html" title="class in datafu.hourglass.jobs"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../datafu/hourglass/jobs/PartitionCollapsingIncrementalJob.html" title="class in datafu.hourglass.jobs"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?datafu/hourglass/jobs/PartitionCollapsingExecutionPlanner.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PartitionCollapsingExecutionPlanner.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Matthew Hayes
</BODY>
</HTML>
